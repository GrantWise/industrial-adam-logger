# Configuration Tab - Form-Based Design

## Philosophy: Forms Only, No Raw JSON

**Why no JSON editor:**
- âŒ Easy to make syntax errors (missing comma, bracket)
- âŒ No validation until save (break production system)
- âŒ Intimidating for non-programmers
- âŒ Hard to see structure (nested objects, arrays)
- âŒ Copy/paste errors common

**Why forms:**
- âœ… Impossible to create invalid JSON
- âœ… Validation on every field (immediate feedback)
- âœ… Clear labels and help text
- âœ… Dropdowns for enums (no typos)
- âœ… Type checking (number fields only accept numbers)

**Exception**: Advanced users can download JSON, edit locally, upload. But UI is form-based.

---

## Configuration Tab Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Dashboard] [Configuration] [Logs]                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚ CONFIGURATION                                                              â”‚
â”‚                                                                            â”‚
â”‚ [Devices] [Database] [MQTT Broker] [API Keys] [System]                    â”‚
â”‚                                                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Devices â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚                                                                            â”‚
â”‚ MODBUS DEVICES (10)                              [+ Add Device] [Import]  â”‚
â”‚ â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚âœ“â”‚Device ID     â”‚Statusâ”‚IP:Port          â”‚Chans â”‚Poll(ms)â”‚Actions   â”‚  â”‚
â”‚ â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚â˜‘â”‚LINE1-6051    â”‚ â—    â”‚192.168.1.100:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚LINE2-6051    â”‚ â—    â”‚192.168.1.101:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚LINE3-6051    â”‚ â—‹    â”‚192.168.1.102:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚PACK1-6051    â”‚ â—    â”‚192.168.1.103:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚PACK2-6051    â”‚ â—    â”‚192.168.1.104:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚WELD1-6051    â”‚ â—    â”‚192.168.1.105:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚TEMP1-6017    â”‚ â—    â”‚192.168.1.200:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚TEMP2-6017    â”‚ â—    â”‚192.168.1.201:502â”‚2     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚PRESS1-6024   â”‚ â—    â”‚192.168.1.210:502â”‚1     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â”‚â˜‘â”‚FLOW1-6015    â”‚ â—    â”‚192.168.1.220:502â”‚1     â”‚1000    â”‚[âœ][ğŸ—‘][â‡…]â”‚  â”‚
â”‚ â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â”‚ Bulk Actions:  [Enable Selected] [Disable Selected] [Delete Selected]     â”‚
â”‚                [Export Selected] [Duplicate Selected]                      â”‚
â”‚                                                                            â”‚
â”‚ MQTT DEVICES (5)                                 [+ Add Device] [Import]   â”‚
â”‚ â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚âœ“â”‚Device ID     â”‚Statusâ”‚Topic                    â”‚Format  â”‚Actions   â”‚ â”‚
â”‚ â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚â˜‘â”‚TEMP-ZONE1    â”‚ â—    â”‚sensors/temp/zone1       â”‚JSON    â”‚[âœ][ğŸ—‘]   â”‚ â”‚
â”‚ â”‚â˜‘â”‚TEMP-ZONE2    â”‚ â—    â”‚sensors/temp/zone2       â”‚JSON    â”‚[âœ][ğŸ—‘]   â”‚ â”‚
â”‚ â”‚â˜‘â”‚COUNTER-PROD  â”‚ â—    â”‚counters/production      â”‚Binary  â”‚[âœ][ğŸ—‘]   â”‚ â”‚
â”‚ â”‚â˜‘â”‚HUMID-MAIN    â”‚ â—    â”‚sensors/humidity         â”‚JSON    â”‚[âœ][ğŸ—‘]   â”‚ â”‚
â”‚ â”‚â˜‘â”‚PRESS-LINE1   â”‚ â—‹    â”‚sensors/pressure/line1   â”‚CSV     â”‚[âœ][ğŸ—‘]   â”‚ â”‚
â”‚ â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                            â”‚
â”‚ âš  Changes require service restart (~5 seconds downtime)                   â”‚
â”‚                                                                            â”‚
â”‚ [ğŸ“¥ Download Config] [ğŸ“¤ Upload Config] [ğŸ”„ Restore Backup]                â”‚
â”‚                                                  [Save & Restart Service]  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Features:**
- âœ… **Table view** - All devices visible, no scrolling through JSON
- âœ… **Inline editing** - Click [âœ] to edit in form
- âœ… **Reordering** - [â‡…] drag to reorder devices
- âœ… **Bulk operations** - Select multiple, enable/disable/delete
- âœ… **Import/Export** - For bulk operations, but hidden from main workflow

---

## Edit Device Form (Modal)

**Triggered by**: Click [âœ] on device row

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit Device: LINE1-6051                            [âœ• Close]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚ BASIC INFORMATION                                              â”‚
â”‚                                                                â”‚
â”‚ Device ID *        [LINE1-6051__________]  (Read-only)        â”‚
â”‚ Display Name       [Line 1 Production Counter___________]     â”‚
â”‚ Model Type         [ADAM-6051 â–¼]                              â”‚
â”‚ Enabled            [â˜‘] Device enabled                         â”‚
â”‚                                                                â”‚
â”‚ NETWORK SETTINGS                                               â”‚
â”‚                                                                â”‚
â”‚ IP Address *       [192.168.1.100_] [ğŸ” Test Connection]      â”‚
â”‚ Port *             [502____]  (Default: 502)                  â”‚
â”‚ Unit ID *          [1______]  (Default: 1, Range: 1-255)      â”‚
â”‚                                                                â”‚
â”‚ Connection Test:   âœ… Device responding (15ms)                 â”‚
â”‚                    Model: ADAM-6051, Firmware: 1.2.3          â”‚
â”‚                                                                â”‚
â”‚ POLLING SETTINGS                                               â”‚
â”‚                                                                â”‚
â”‚ Poll Interval      [1000__] ms  (Range: 100-5000)             â”‚
â”‚ Timeout            [3000__] ms  (Must be > Poll Interval)     â”‚
â”‚ Max Retries        [3_____]     (Range: 0-10)                 â”‚
â”‚ TCP Keep-Alive     [â˜‘] Enabled (Recommended)                  â”‚
â”‚                                                                â”‚
â”‚ CHANNELS (2)                                    [+ Add Channel]â”‚
â”‚ â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚âœ“â”‚Ch # â”‚Name              â”‚Reg  â”‚Cnt  â”‚Type    â”‚Unit  â”‚   â”‚
â”‚ â”œâ”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚â˜‘â”‚0    â”‚Main Counter      â”‚0    â”‚2    â”‚UInt32  â”‚items â”‚[âœ]â”‚
â”‚ â”‚â˜‘â”‚1    â”‚Reject Counter    â”‚2    â”‚2    â”‚UInt32  â”‚items â”‚[âœ]â”‚
â”‚ â””â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜   â”‚
â”‚                                                                â”‚
â”‚ [Delete Device]                                        [Save]  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Field Validation (Real-Time):**
- Device ID: Required, alphanumeric + hyphens only
- IP Address: Valid IP or hostname
- Port: Number, 1-65535
- Unit ID: Number, 1-255
- Poll Interval: Number, 100-5000
- Timeout: Number, must be > Poll Interval
- Max Retries: Number, 0-10

**Test Connection Button:**
- Sends Modbus read request
- Shows success/failure instantly
- Displays device info if successful
- Shows error message if failed

---

## Edit Channel Form (Nested Modal)

**Triggered by**: Click [âœ] on channel row, or [+ Add Channel]

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit Channel: LINE1-6051 - Channel 0               [âœ• Close]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚ CHANNEL INFORMATION                                            â”‚
â”‚                                                                â”‚
â”‚ Channel Number *   [0__]  (Range: 0-255)                      â”‚
â”‚ Name               [Main Product Counter___________]          â”‚
â”‚ Enabled            [â˜‘] Channel enabled                        â”‚
â”‚                                                                â”‚
â”‚ MODBUS REGISTER MAPPING                                        â”‚
â”‚                                                                â”‚
â”‚ Start Register *   [0____]  (Range: 0-65535)                  â”‚
â”‚ Register Count *   [2 â–¼]    (1 or 2)                          â”‚
â”‚ Register Type      [Holding Register â–¼]                       â”‚
â”‚                    Options: Holding Register, Input Register  â”‚
â”‚ Data Type          [UInt32 Counter â–¼]                         â”‚
â”‚                    Options: UInt32 Counter, Int16, UInt16,    â”‚
â”‚                             Float32, Int32                    â”‚
â”‚                                                                â”‚
â”‚ DATA PROCESSING                                                â”‚
â”‚                                                                â”‚
â”‚ Scale Factor       [1.0_____]  (Multiply raw value)           â”‚
â”‚ Offset             [0.0_____]  (Add after scaling)            â”‚
â”‚ Unit               [items____]  (Display unit)                â”‚
â”‚                                                                â”‚
â”‚ VALIDATION (Optional)                                          â”‚
â”‚                                                                â”‚
â”‚ Min Value          [0________]  (Alert if below)              â”‚
â”‚ Max Value          [4294967295]  (Alert if above)             â”‚
â”‚ Max Change Rate    [1000_____]  (per second)                  â”‚
â”‚ Rate Window        [60_______]  (seconds, for rate calc)      â”‚
â”‚                                                                â”‚
â”‚ TAGS (Optional)                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ Key        â”‚ Value                                   â”‚     â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ â”‚ location   â”‚ [production_floor_1__________]          â”‚     â”‚
â”‚ â”‚ line       â”‚ [line_1______________________]          â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚ [+ Add Tag]                                                    â”‚
â”‚                                                                â”‚
â”‚ [Cancel]                                               [Save]  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Field Validation:**
- Channel Number: Required, 0-255, unique within device
- Start Register: Required, 0-65535
- Register Count: Required, 1 or 2 (dropdown)
- Register Type: Dropdown (Holding/Input)
- Data Type: Dropdown (UInt32/Int16/UInt16/Float32/Int32)
- Scale/Offset: Numbers only
- Min/Max Value: Numbers, Min < Max

---

## Database Configuration Tab

**Triggered by**: Click [Database] tab

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Dashboard] [Configuration] [Logs]                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚ CONFIGURATION                                                              â”‚
â”‚                                                                            â”‚
â”‚ [Devices] [Database] [MQTT Broker] [API Keys] [System]                    â”‚
â”‚                                                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Database (TimescaleDB) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚                                                                            â”‚
â”‚ CONNECTION SETTINGS                                                        â”‚
â”‚                                                                            â”‚
â”‚ Host *             [localhost_________________]                            â”‚
â”‚ Port *             [5432____]  (Default: 5432)                             â”‚
â”‚ Database Name *    [adam_counters______________]                           â”‚
â”‚ Username *         [logger_service_____________]                           â”‚
â”‚ Password *         [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢] [ğŸ‘ Show]                                  â”‚
â”‚ Enable SSL         [â˜] Use encrypted connection                           â”‚
â”‚                                                                            â”‚
â”‚ [ğŸ” Test Connection]  Status: âœ… Connected successfully (8ms)              â”‚
â”‚                                                                            â”‚
â”‚ PERFORMANCE SETTINGS                                                       â”‚
â”‚                                                                            â”‚
â”‚ Batch Size         [100___]  (Range: 1-1000, Default: 100)                â”‚
â”‚                    â„¹ï¸ Number of readings to batch before write             â”‚
â”‚                                                                            â”‚
â”‚ Batch Timeout      [5000__]  ms  (Default: 5000)                          â”‚
â”‚                    â„¹ï¸ Max wait time before forcing write                   â”‚
â”‚                                                                            â”‚
â”‚ Flush Interval     [5000__]  ms  (Default: 5000)                          â”‚
â”‚                    â„¹ï¸ Background flush frequency                           â”‚
â”‚                                                                            â”‚
â”‚ Query Timeout      [30____]  seconds  (Default: 30)                       â”‚
â”‚                                                                            â”‚
â”‚ CONNECTION POOLING                                                         â”‚
â”‚                                                                            â”‚
â”‚ Min Pool Size      [5_____]  connections (Default: 5)                     â”‚
â”‚ Max Pool Size      [20____]  connections (Default: 20)                    â”‚
â”‚                                                                            â”‚
â”‚ STORAGE SETTINGS                                                           â”‚
â”‚                                                                            â”‚
â”‚ Table Name *       [counter_data_______________]                           â”‚
â”‚                    â„¹ï¸ Max 63 characters (PostgreSQL limit)                 â”‚
â”‚                                                                            â”‚
â”‚ Global Tags        [+ Add Tag]                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚ Key        â”‚ Value                                   â”‚                 â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚ â”‚ location   â”‚ factory_floor                           â”‚                 â”‚
â”‚ â”‚ environmentâ”‚ production                              â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                            â”‚
â”‚ âš  Changes require service restart (~5 seconds downtime)                   â”‚
â”‚                                                                            â”‚
â”‚ [Reset to Defaults]                             [Save & Restart Service]  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Field Validation:**
- Host: Required, valid hostname or IP
- Port: Number, 1-65535
- Database/Username/Password: Required
- Batch Size: Number, 1-1000
- Batch Timeout: Number, > 0
- Table Name: Required, max 63 chars, alphanumeric + underscore only
- Pool sizes: Numbers, Min < Max

**Test Connection Button:**
- Attempts database connection
- Shows success with latency
- Shows detailed error if failed (connection refused, auth failed, etc.)

---

## MQTT Broker Configuration Tab

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Devices] [Database] [MQTT Broker] [API Keys] [System]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MQTT Broker â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚                                                                            â”‚
â”‚ BROKER CONNECTION                                                          â”‚
â”‚                                                                            â”‚
â”‚ Broker Host *      [localhost_________________]                            â”‚
â”‚ Broker Port *      [1883____]  (Default: 1883)                             â”‚
â”‚ Client ID          [industrial-logger__________]                           â”‚
â”‚                    â„¹ï¸ Unique identifier for this client                    â”‚
â”‚                                                                            â”‚
â”‚ Username           [logger_____________________]  (Optional)               â”‚
â”‚ Password           [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢] [ğŸ‘ Show]         (Optional)               â”‚
â”‚                                                                            â”‚
â”‚ [ğŸ” Test Connection]  Status: âœ… Connected to Mosquitto 2.0.18 (12ms)      â”‚
â”‚                                                                            â”‚
â”‚ MQTT SETTINGS                                                              â”‚
â”‚                                                                            â”‚
â”‚ QoS Level          [1 (At Least Once) â–¼]                                  â”‚
â”‚                    Options: 0 (At Most Once), 1 (At Least Once),          â”‚
â”‚                             2 (Exactly Once)                               â”‚
â”‚                                                                            â”‚
â”‚ Keep-Alive Period  [60____]  seconds  (Default: 60)                       â”‚
â”‚                                                                            â”‚
â”‚ Clean Session      [Auto â–¼]                                               â”‚
â”‚                    Options: Auto, True, False                              â”‚
â”‚                                                                            â”‚
â”‚ RECONNECTION                                                               â”‚
â”‚                                                                            â”‚
â”‚ Auto-Reconnect     [â˜‘] Enabled                                            â”‚
â”‚ Reconnect Delay    [5_____]  seconds  (Default: 5)                        â”‚
â”‚ Max Reconnect      [0_____]  (0 = infinite)                               â”‚
â”‚                                                                            â”‚
â”‚ SECURITY (TLS)                                                             â”‚
â”‚                                                                            â”‚
â”‚ Use TLS            [â˜] Enable encrypted connection                        â”‚
â”‚ Allow Invalid Cert [â˜] Skip certificate validation (NOT RECOMMENDED)      â”‚
â”‚                                                                            â”‚
â”‚ âš  Changes require service restart (~5 seconds downtime)                   â”‚
â”‚                                                                            â”‚
â”‚ [Reset to Defaults]                             [Save & Restart Service]  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API Keys Configuration Tab

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Devices] [Database] [MQTT Broker] [API Keys] [System]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API Keys â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                            â”‚
â”‚ âœ… Hot-reload enabled - Changes apply automatically (no restart needed)    â”‚
â”‚                                                                            â”‚
â”‚ API KEYS (3)                                                [+ Add Key]    â”‚
â”‚ â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚âœ“â”‚ID          â”‚Name              â”‚Key            â”‚Expires     â”‚Actionâ”‚ â”‚
â”‚ â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚â˜‘â”‚dev-srv-1   â”‚Dev Service       â”‚IND-...789     â”‚Never       â”‚[âœ][ğŸ—‘]â”‚ â”‚
â”‚ â”‚â˜‘â”‚prod-dash-1 â”‚Dashboard         â”‚IND-...456     â”‚2026-01-01  â”‚[âœ][ğŸ—‘]â”‚ â”‚
â”‚ â”‚â˜‘â”‚temp-tech-1 â”‚Technician (Temp) â”‚IND-...123     â”‚2025-10-05  â”‚[âœ][ğŸ—‘]â”‚ â”‚
â”‚ â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                            â”‚
â”‚ â„¹ï¸ Keys shown truncated for security. Full key visible when editing.      â”‚
â”‚                                                                            â”‚
â”‚ [Save]  (Changes apply automatically within 500ms)                         â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Edit API Key Form (Modal):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit API Key: dev-srv-1                            [âœ• Close]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚ KEY INFORMATION                                                â”‚
â”‚                                                                â”‚
â”‚ ID *               [dev-srv-1__________]  (Read-only)         â”‚
â”‚ Name *             [Dev Service___________________]           â”‚
â”‚                                                                â”‚
â”‚ API Key *          [IND-ADAM-DEV-2024-abc123def456ghi789]     â”‚
â”‚                    [ğŸ‘ Show] [ğŸ”„ Regenerate]                   â”‚
â”‚                    â„¹ï¸ Minimum 16 characters                    â”‚
â”‚                                                                â”‚
â”‚ EXPIRATION                                                     â”‚
â”‚                                                                â”‚
â”‚ Expires            [â—‹ Never  â—‰ On Date]                       â”‚
â”‚                    [2026-01-01________] (YYYY-MM-DD)          â”‚
â”‚                                                                â”‚
â”‚ PERMISSIONS (Future Use)                                       â”‚
â”‚                                                                â”‚
â”‚ [â˜‘] read      Read device data and status                    â”‚
â”‚ [â˜‘] write     Modify device settings                         â”‚
â”‚ [â˜‘] restart   Restart devices and services                   â”‚
â”‚                                                                â”‚
â”‚ [Delete Key]                                           [Save]  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Regenerate Button:**
- Generates new cryptographically secure key (32 characters)
- Shows confirmation dialog before replacing
- Old key immediately invalidated

---

## System Settings Tab

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Devices] [Database] [MQTT Broker] [API Keys] [System]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ System Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚                                                                            â”‚
â”‚ LOGGING                                                                    â”‚
â”‚                                                                            â”‚
â”‚ Log Level          [Information â–¼]                                        â”‚
â”‚                    Options: Trace, Debug, Information, Warning,           â”‚
â”‚                             Error, Critical                                â”‚
â”‚                                                                            â”‚
â”‚ CORS (Cross-Origin Resource Sharing)                                      â”‚
â”‚                                                                            â”‚
â”‚ Allowed Origins    [+ Add Origin]                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚ http://localhost:3000                                â”‚ [ğŸ—‘]            â”‚
â”‚ â”‚ http://localhost:5173                                â”‚ [ğŸ—‘]            â”‚
â”‚ â”‚ https://dashboard.example.com                        â”‚ [ğŸ—‘]            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                            â”‚
â”‚ ENVIRONMENT VARIABLES                                                      â”‚
â”‚                                                                            â”‚
â”‚ Environment        [Production â–¼]                                         â”‚
â”‚                    Options: Development, Staging, Production              â”‚
â”‚                                                                            â”‚
â”‚ Demo Mode          [â˜] Enable demo/simulation mode                        â”‚
â”‚                                                                            â”‚
â”‚ BACKUPS                                                                    â”‚
â”‚                                                                            â”‚
â”‚ Auto-Backup        [â˜‘] Create backup before every save                    â”‚
â”‚ Backup Retention   [10____]  (Number of backups to keep)                  â”‚
â”‚                                                                            â”‚
â”‚ BACKUP HISTORY                                        [View All Backups]  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ Timestamp          â”‚ Size     â”‚ Actions                          â”‚     â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ â”‚ 2025-10-04 14:30   â”‚ 45 KB    â”‚ [ğŸ“¥ Download] [ğŸ”„ Restore]       â”‚     â”‚
â”‚ â”‚ 2025-10-04 12:15   â”‚ 43 KB    â”‚ [ğŸ“¥ Download] [ğŸ”„ Restore]       â”‚     â”‚
â”‚ â”‚ 2025-10-04 09:45   â”‚ 42 KB    â”‚ [ğŸ“¥ Download] [ğŸ”„ Restore]       â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                            â”‚
â”‚ âš  Changes require service restart (~5 seconds downtime)                   â”‚
â”‚                                                                            â”‚
â”‚ [Reset to Defaults]                             [Save & Restart Service]  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Import/Export Functions

**Triggered by**: [Import] or [Export Selected] buttons

### Export Dialog:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Export Configuration                               [âœ• Close]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚ EXPORT OPTIONS                                                 â”‚
â”‚                                                                â”‚
â”‚ What to export:                                                â”‚
â”‚ [â˜‘] Modbus Devices (10 selected)                              â”‚
â”‚ [â˜‘] MQTT Devices (5 selected)                                 â”‚
â”‚ [â˜‘] Database Settings                                         â”‚
â”‚ [â˜‘] MQTT Broker Settings                                      â”‚
â”‚ [â˜] API Keys (Security: Not recommended)                      â”‚
â”‚ [â˜] System Settings                                           â”‚
â”‚                                                                â”‚
â”‚ Format:                                                        â”‚
â”‚ [â—‰ JSON (appsettings.json)   â—‹ CSV (spreadsheet)]            â”‚
â”‚                                                                â”‚
â”‚ [Cancel]                                  [ğŸ“¥ Download File]   â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Import Dialog:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Import Configuration                               [âœ• Close]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚ SELECT FILE                                                    â”‚
â”‚                                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚                                                        â”‚   â”‚
â”‚ â”‚         [ğŸ“ Click to select file or drag & drop]       â”‚   â”‚
â”‚ â”‚                                                        â”‚   â”‚
â”‚ â”‚         Supported: JSON, CSV                           â”‚   â”‚
â”‚ â”‚                                                        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                â”‚
â”‚ IMPORT OPTIONS                                                 â”‚
â”‚                                                                â”‚
â”‚ Merge strategy:                                                â”‚
â”‚ [â—‰ Add new devices (keep existing)                            â”‚
â”‚  â—‹ Replace all (delete existing)                              â”‚
â”‚  â—‹ Update matching IDs (merge)]                               â”‚
â”‚                                                                â”‚
â”‚ [â˜‘] Validate before import                                    â”‚
â”‚ [â˜‘] Create backup before import                               â”‚
â”‚                                                                â”‚
â”‚ [Cancel]                                           [Import]    â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After file selected, shows preview:**

```
â”‚ PREVIEW (10 devices found)                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ Device ID    â”‚ IP:Port         â”‚ Status               â”‚     â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ â”‚ LINE1-6051   â”‚192.168.1.100:502â”‚ âœ“ Valid, will add    â”‚     â”‚
â”‚ â”‚ LINE2-6051   â”‚192.168.1.101:502â”‚ âœ“ Valid, will add    â”‚     â”‚
â”‚ â”‚ BAD-DEVICE   â”‚invalid-ip:502   â”‚ âœ— Invalid IP address â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                â”‚
â”‚ Summary: 9 valid, 1 error                                      â”‚
â”‚                                                                â”‚
â”‚ [Fix Errors]  [Cancel]                      [Import 9 Devices] â”‚
```

---

## Key Design Decisions

### 1. **No Raw JSON Editor in UI**
- Forms prevent syntax errors
- Validation happens on every field
- Impossible to save invalid config

### 2. **But Allow Import/Export**
- Power users can download JSON
- Edit in VSCode/Notepad++ locally
- Upload back when done
- Best of both worlds

### 3. **Validation Before Save**
- Test connection buttons
- Field-level validation (red border on error)
- Preview import before applying
- Can't save invalid config

### 4. **Clear Restart Warnings**
- Every tab shows if restart required
- Save button always says "Save & Restart Service"
- No surprises

### 5. **Hot-Reload Where Supported**
- API Keys tab clearly marked âœ… Hot-reload
- All others marked âš  Restart required
- Technician knows the cost

---

## Backup Strategy

**Automatic Backups:**
- Created before every save
- Timestamped: `appsettings.backup.2025-10-04-14-30-45.json`
- Stored in `config/backups/` directory
- Keep last 10 (configurable in System Settings)

**Manual Backups:**
- Download button exports current config
- Technician saves to laptop
- Can restore from laptop file

**Restore:**
- Click [ğŸ”„ Restore] on any backup
- Shows diff preview (what will change)
- Confirm before applying

---

## Summary

**Forms only. No raw JSON.**

- âœ… Tables for device lists
- âœ… Forms for editing
- âœ… Import/Export for bulk operations
- âœ… Validation everywhere
- âœ… Test connections before save
- âœ… Clear restart warnings

**Simple. Safe. Toyota.**
